### https://sky.pro/media/join-v-sql/

```
    Join — оператор для объединения данных из нескольких таблиц с общим ключом.
    
    Join — оператор, который используют, чтобы объединять строки из двух или более таблиц на основе связующего столбца 
           между ними. Такой столбец еще называют ключом.
```

# Виды JOIN
```
    1. INNER JOIN
    2. LEFT JOIN
    3. RIGHT JOIN
    4. FULL JOIN
    5. CROSS JOIN
    6. SELF JOIN
```

# Общий синтаксис оператора JOIN
```
    JOIN <Название таблицы для присоединения> ON <Условие присоединения на основе связующих столбцов>
```

## Соединять можно и больше двух таблиц: к запросу добавьте еще один оператор JOIN. 
```
    SELECT Orders.OrderID, Customers.CustomerName, Orders.OrderDate, Managers.ManagerName 
    FROM Orders 
    JOIN Customers 
    ON Orders.CustomerID=Customers.CustomerID 
    JOIN Managers 
    ON Orders.OrderId=Managers.OrderId
```

# 1. Внутреннее соединение INNER JOIN
```
    Если использовать оператор INNER JOIN, в результат запроса попадут только те записи, для которых выполняется условие 
    объединения.  
   
    Еще одно условие — записи должны быть в обеих таблицах. 
   
    SELECT column_name(s)
    FROM table1
    INNER JOIN table2
    ON table1.column_name = table2.column_name;
    
    Слово INNER в запросе можно опускать
```

# 2. Внешние соединения OUTER JOIN
```
    Если использовать внешнее соединение, то в результат запроса попадут не только записи с совпадениями в обеих 
    таблицах, но и записи одной из таблиц целиком. Этим внешнее соединение отличается от внутреннего.
    
    Указание таблицы, из которой нужно выбрать все записи без фильтрации, называется направлением соединения.
```

## 2.1. LEFT OUTER JOIN / LEFT JOIN
```
    В финальный результат такого соединения попадут все записи из левой, первой таблицы. Даже если не будет ни одного 
    совпадения с правой. И записи из второй таблицы, для которых выполняется условие объединения.
    
    SELECT column_name(s)
    FROM table1
    LEFT JOIN table2
    ON table1.column_name = table2.column_name;
```

## 2.2. RIGHT OUTER JOIN / RIGHT JOIN
```
    В финальный результат этого соединения попадут все записи из правой, второй таблицы. 
    Даже если не будет ни одного совпадения с левой. 
    И записи из первой таблицы, для которых выполняется условие объединения.
    
    SELECT column_name(s)
    FROM table1
    RIGHT JOIN table2
    ON table1.column_name = table2.column_name;
```

## 2.3. FULL OUTER JOIN / FULL JOIN
```
    В финальный результат такого соединения попадут все записи из обеих таблиц. 
    Независимо от того, выполняется условие объединения или нет.

    SELECT column_name(s)
    FROM table1
    FULL JOIN table2
    ON table1.column_name = table2.column_name;
```

## 2.4. Перекрестное соединение CROSS JOIN
```
    Этот оператор отличается от предыдущих операторов соединения: ему не нужно задавать условие объединения 
    (ON table1.column_name = table2.column_name). 
    
    Записи в таблице с результатами — это результат объединения каждой записи из левой таблицы с записями из правой. 
    Такое действие называют декартовым произведением.
    
    SELECT column_name(s)
    FROM table1
    CROSS JOIN table2;
```

## 3. SELF JOIN
```
    Его используют, когда в запросе нужно соединить несколько записей из одной и той же таблицы.
    
    В SQL нет отдельного оператора, чтобы описать SELF JOIN соединения. Поэтому, чтобы описать соединения данных из 
    одной и той же таблицы, воспользуйтесь операторами JOIN или WHERE.

    Учтите, что в одном запросе нельзя дважды использовать имя одной и той же таблицы: иначе запрос вернет ошибку. 
    Поэтому, чтобы выполнить соединение таблицы SQL с самой собой, в запросе ей присваивают два разных временных имени 
    — алиаса.
    
    Синтаксис соединения SELF JOIN при использовании оператора JOIN:
    
    SELECT column_name(s)
    FROM table1 a1
    JOIN table1 a2
    ON a1.column_name = a2.column_name;
    
    
    Синтаксис соединения SELF JOIN при использовании оператора WHERE:
    
    SELECT column_name(s)
    FROM table1 a1, table1 a2
    WHERE a1.common_col_name = a2.common_col_name;
```

# Главное о JOIN в SQL
```
    В SQL используют операторы соединения JOIN, чтобы объединять данные из нескольких таблиц. 
    
    Когда результат должен содержать только данные двух таблиц с общим ключом, применяют INNER JOIN или просто JOIN.
    
    Если нужен полный список записей одной из таблиц, объединенных с данными из другой, используют операторы 
    LEFT и RIGHT JOIN.
    
    Если результат должен содержать полный список записей обеих таблиц, где некоторые записи объединены, применяют 
    оператор FULL JOIN.
    
    Если нужно декартово произведение двух таблиц, используют оператор CROSS JOIN. 
    
    Хотите соединить данные из одной и той же таблицы между собой — нужен SELF JOIN.
```